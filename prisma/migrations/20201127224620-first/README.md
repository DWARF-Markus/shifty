# Migration `20201127224620-first`

This migration has been generated by DWARF-Markus at 11/27/2020, 11:46:20 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Company" (
"id" SERIAL,
    "name" TEXT NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "email" TEXT NOT NULL,
    "password" TEXT NOT NULL,
    "days" TEXT NOT NULL,

    PRIMARY KEY ("id")
)

CREATE TABLE "CompanyType" (
"id" SERIAL,
    "companyId" INTEGER,
    "type" TEXT NOT NULL,

    PRIMARY KEY ("id")
)

CREATE TABLE "CompanySize" (
"id" SERIAL,
    "companyId" INTEGER,
    "size" TEXT NOT NULL,

    PRIMARY KEY ("id")
)

CREATE TABLE "Employee" (
"id" SERIAL,
    "firstName" TEXT NOT NULL,
    "lastName" TEXT NOT NULL,
    "email" TEXT NOT NULL,
    "password" TEXT NOT NULL,
    "profileImage" TEXT NOT NULL,

    PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "Company.email_unique" ON "Company"("email")

CREATE UNIQUE INDEX "Employee.email_unique" ON "Employee"("email")

ALTER TABLE "CompanyType" ADD FOREIGN KEY("companyId")REFERENCES "Company"("id") ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE "CompanySize" ADD FOREIGN KEY("companyId")REFERENCES "Company"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201127223348-first..20201127224620-first
--- datamodel.dml
+++ datamodel.dml
@@ -1,40 +1,36 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
-// CompanyType CompanyType[]
-// CompanySize CompanySize[]
 model Company {
-  id        Int         @default(autoincrement()) @id
-  name      String
-  createdAt DateTime    @default(now())
-  email     String      @unique
-  password  String
-  days      String
-  type      CompanyType @relation(fields: [typeId], references: [id])
-  typeId    Int
-  size      CompanySize @relation(fields: [sizeId], references: [id])
-  sizeId    Int
+  id          Int           @default(autoincrement()) @id
+  name        String
+  createdAt   DateTime      @default(now())
+  email       String        @unique
+  password    String
+  days        String
+  CompanyType CompanyType[]
+  CompanySize CompanySize[]
 }
 model CompanyType {
-  id        Int       @default(autoincrement()) @id
+  id        Int      @default(autoincrement()) @id
   companyId Int?
   type      String
-  Company   Company[]
+  Company   Company? @relation(fields: [companyId], references: [id])
 }
 model CompanySize {
-  id        Int       @default(autoincrement()) @id
+  id        Int      @default(autoincrement()) @id
   companyId Int?
   size      String
-  Company   Company[]
+  Company   Company? @relation(fields: [companyId], references: [id])
 }
 model Employee {
   id           Int    @default(autoincrement()) @id
```


